import{_ as u,c as a,a as s,n as d,b as l,F as h,l as p,m as g,r as i,o as e,i as w,j as _,g as f,t as C}from"./index-DakpfGzX.js";const b={data(){return{showContacts:!0,rooms:[]}},async mounted(){try{const t=await(await fetch("/api/room/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}})).json();this.rooms=t}catch(r){console.log(r)}this.rooms.length>0&&this.$router.push(`/chatting/room/${this.rooms[0].name}/${this.rooms[0]._id}`)}},k={class:"row"},v={class:"col-md-4 col-lg-3 border-end d-md-flex flex-column"},y={key:0,class:"alert alert-warning text-center",role:"alert"},x={class:"list-group overflow-auto"},B={class:"mb-0"};function V(r,t,j,N,o,$){const c=i("router-link"),m=i("router-view");return e(),a("div",k,[s("div",v,[t[3]||(t[3]=s("h4",{class:"text-center py-3"},"Contacts",-1)),s("button",{class:"btn btn-primary d-md-none d-block mx-auto mb-3",onClick:t[0]||(t[0]=n=>o.showContacts=!o.showContacts)},[s("i",{class:d(["bi",{"bi-arrow-bar-up":o.showContacts,"bi-arrow-bar-down":!o.showContacts}])},null,2)]),o.rooms.length===0?(e(),a("div",y," You haven't followed any users yet. Go to the posts page and follow users to start chatting. ")):l("",!0),o.showContacts&&o.rooms.length>0?(e(!0),a(h,{key:1},p(o.rooms,n=>(e(),a("div",x,[w(c,{to:`/chatting/room/${n.name}/${n._id}`,class:"list-group-item list-group-item-action d-flex align-items-center"},{default:_(()=>[t[2]||(t[2]=s("img",{src:f,width:"40",height:"40",class:"rounded-circle me-3",alt:"User"},null,-1)),s("div",null,[s("h6",B,C(n.name),1),t[1]||(t[1]=s("small",{class:"text-muted"},"Last message snippet...",-1))])]),_:2},1032,["to"])]))),256)):l("",!0)]),(e(),g(m,{key:r.$route.fullPath}))])}const E=u(b,[["render",V]]);export{E as default};
