import{c as i,a as d,b as t,d as r,t as n,F as c,_ as h,f as m,g as u,o as a,N as g,h as p}from"./index-CZ4AokZQ.js";const _={class:"container mt-5"},f={class:"row justify-content-center"},w={class:"col-md-8"},b={class:"card"},y={class:"card-body"},k={class:"text-center mb-4"},F={key:0,src:h,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},v={key:1,src:m,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},j={key:2,src:u,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},S={class:"text-center"},U={class:"text-center"},T={class:"text-center"},$={class:"text-center"},C={class:"text-center"},P={class:"text-center"},N={class:"text-center"},A={data(){return{id:"",email:"",password:"",username:"",age:"",gender:"",birthday:"",bio:"",isFriend:!1}},methods:{async getUser(){try{const e=await(await fetch(`/api/user/profile/${this.$route.params.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`${localStorage.getItem("token")}`}})).json();this.id=e._id,this.email=e.email,this.username=e.username,this.age=e.age,this.gender=e.gender,this.birthday=new Date(e.birthday).toISOString().split("T")[0],this.bio=e.bio,this.isFriend=e.isFriend}catch(o){console.log(o)}},async follow(o){try{const e=await fetch(`/api/user/follow/${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}),s=await e.json();e.ok&&(this.isFriend=!0)}catch(e){console.log(e)}},async unfollow(o){try{const e=await fetch(`/api/user/unfollow/${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}),s=await e.json();e.ok&&(this.isFriend=!1)}catch(e){console.log(e)}}},async mounted(){await this.getUser()}},I=Object.assign(A,{__name:"DetailedUserView",setup(o){return(e,s)=>(a(),i(c,null,[d(g),t("div",_,[t("div",f,[t("div",w,[s[2]||(s[2]=t("h2",{class:"text-center mb-4"},"User Profile",-1)),t("div",b,[t("div",y,[t("div",k,[e.gender=="male"?(a(),i("img",F)):r("",!0),e.gender=="female"?(a(),i("img",v)):r("",!0),e.gender=="other"||e.gender==null?(a(),i("img",j)):r("",!0)]),t("h4",S,n(e.username),1),t("p",U,"Email: "+n(e.email),1),t("p",T,"Age: "+n(e.age),1),t("p",$,n(e.gender),1),t("p",C,n(e.birthday),1),t("p",P,n(e.bio),1),t("div",N,[e.isFriend?r("",!0):(a(),i("button",{key:0,onClick:s[0]||(s[0]=l=>e.follow(e.id)),class:"btn btn-info w-30"}," Follow this user ")),e.isFriend?(a(),i("button",{key:1,onClick:s[1]||(s[1]=l=>e.unfollow(e.id)),class:"btn btn-info w-30"}," Unfollow this user ")):r("",!0)])])])])])]),d(p)],64))}});export{I as default};
