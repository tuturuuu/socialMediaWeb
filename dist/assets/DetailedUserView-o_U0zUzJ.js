import{_ as h,c as i,a as s,b as c,t as n,e as _,f as m,g as p,o as r}from"./index-DakpfGzX.js";const u={data(){return{id:"",email:"",password:"",username:"",age:"",gender:"",birthday:"",bio:"",isFriend:!1}},methods:{async getUser(){try{const e=await(await fetch(`/api/user/profile/${this.$route.params.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`${localStorage.getItem("token")}`}})).json();this.id=e._id,this.email=e.email,this.username=e.username,this.age=e.age,this.gender=e.gender,this.birthday=new Date(e.birthday).toISOString().split("T")[0],this.bio=e.bio,this.isFriend=e.isFriend}catch(o){console.log(o)}},async follow(o){try{const e=await fetch(`/api/user/follow/${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}),a=await e.json();e.ok&&(this.isFriend=!0)}catch(e){console.log(e)}},async unfollow(o){try{const e=await fetch(`/api/user/unfollow/${o}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}),a=await e.json();e.ok&&(this.isFriend=!1)}catch(e){console.log(e)}}},async mounted(){await this.getUser()}},g={class:"container mt-5"},f={class:"row justify-content-center"},w={class:"col-md-8"},y={class:"card"},b={class:"card-body"},k={class:"text-center mb-4"},x={key:0,src:_,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},v={key:1,src:m,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},F={key:2,src:p,class:"rounded-circle mb-2",alt:"User Profile",width:"150",height:"150"},S={class:"text-center"},U={class:"text-center"},j={class:"text-center"},T={class:"text-center"},C={class:"text-center"},P={class:"text-center"},A={class:"text-center"};function I(o,e,a,z,t,l){return r(),i("div",g,[s("div",f,[s("div",w,[e[2]||(e[2]=s("h2",{class:"text-center mb-4"},"User Profile",-1)),s("div",y,[s("div",b,[s("div",k,[t.gender=="male"?(r(),i("img",x)):c("",!0),t.gender=="female"?(r(),i("img",v)):c("",!0),t.gender=="other"||t.gender==null?(r(),i("img",F)):c("",!0)]),s("h4",S,n(t.username),1),s("p",U,"Email: "+n(t.email),1),s("p",j,"Age: "+n(t.age),1),s("p",T,n(t.gender),1),s("p",C,n(t.birthday),1),s("p",P,n(t.bio),1),s("div",A,[t.isFriend?c("",!0):(r(),i("button",{key:0,onClick:e[0]||(e[0]=d=>l.follow(t.id)),class:"btn btn-info w-30"}," Follow this user ")),t.isFriend?(r(),i("button",{key:1,onClick:e[1]||(e[1]=d=>l.unfollow(t.id)),class:"btn btn-info w-30"}," Unfollow this user ")):c("",!0)])])])])])])}const D=h(u,[["render",I]]);export{D as default};
